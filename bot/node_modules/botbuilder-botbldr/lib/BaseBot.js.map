{"version":3,"file":"BaseBot.js","sourceRoot":"","sources":["../src/BaseBot.ts"],"names":[],"mappings":";;AAEA;IAAA;QACc,gBAAW,GAAuC,EAAE,CAAC;IA8CnE,CAAC;IA5Ca,EAAE,CACR,OACc;QACd,MAAM,CAAC,CAAC,OAAmB,EAAE,EAAE,CAAC,IAAI;aAC/B,UAAU,CAAC,OAAO,CAAC;aACnB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;IACjD,CAAC;IAED,GAAG,CACC,UAA0C;QAE1C,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxB,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAYD,0EAA0E;IAC1E,iBAAiB,CACb,SAAyC,EACzC,OAEkB;QAElB,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,0EAA0E;IAC1E,oBAAoB,CAChB,SAAyC,EACzC,OAEkB;QAElB,MAAM,iBAAiB,CAAC;IAC5B,CAAC;CACJ;AA/CD,0BA+CC","sourcesContent":["import { BotContext, ConversationReference, Middleware, MiddlewareHandler } from 'botbuilder';\n\nexport abstract class BaseBot <AppContext> {\n    protected middlewares: (Middleware | MiddlewareHandler)[] = [];\n\n    protected do (\n        handler: (appContext: AppContext,\n    ) => Promise<void>) {\n        return (context: BotContext) => this\n            .getContext(context)\n            .then(appContext => handler(appContext));\n    }\n    \n    use(\n        middleware: Middleware | MiddlewareHandler\n    ): this {\n        this.middlewares.push();\n        return this;\n    }\n\n    abstract getContext(\n        context: BotContext\n    ): Promise<AppContext>;\n\n    abstract onRequest(\n        handler: (\n            appContext: AppContext,\n        ) => Promise<void>\n    ): void;\n\n    // when startConversation moves into Adapter, this can be implemented here\n    startConversation(\n        reference: Partial<ConversationReference>,\n        handler: (\n            appContext: AppContext,\n        ) => Promise<void>\n    ): Promise<void> {\n        throw \"not implemented\";\n    }\n\n    // when startConversation moves into Adapter, this can be implemented here\n    continueConversation(\n        reference: Partial<ConversationReference>,\n        handler: (\n            appContext: AppContext,\n        ) => Promise<void>\n    ): Promise<void> {\n        throw \"not implemented\";\n    }\n}\n"]}